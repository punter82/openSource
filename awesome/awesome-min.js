Element.prototype.hasClass=function(a){return this.className&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(this.className)};Element.prototype.addClass=function(b){if(!this.hasClass(b)){var a=this.getAttribute("class");a=a?a+" "+b:b;this.setAttribute("class",a)}};Element.prototype.getData=function(a){return this.getAttribute("data-"+a)};Element.prototype.setData=function(a,b){return this.setAttribute("data-"+a,b)};Element.prototype.isvisible=function(){return this.offsetWidth>0&&this.offsetHeight>0};function bindEvent(b,a,c){if(b.addEventListener){b.addEventListener(a,c,false)}else{b.attachEvent(a,c)}}NodeList.prototype.forEach=Array.prototype.forEach;var awesome=(function(){var d={lazyLoadClass:"lazyload",lth:"lth",vp:{large:1200,medium:750,small:320,xlarge:1600},selector:"img",offset:300,defaultImage:"",retina:true,landscape:true,iframeSelector:"iframe",bgselector:".bgimage"},f,e=false,l=false,c,j,k=false;var a=new function(){var n=this;this.checkImages=function(){var o=document.querySelectorAll(d.selector);o.forEach(function(p){n.bootstrap(p)})};this.bootstrap=function(o){if(o.hasClass(d.lazyLoadClass)){n.checkload(o)}else{if(o.getData("loaded")!=="true"){n.loadImage(o)}}};this.checkload=function(o){if(o.getData("loaded")!=="true"&&o.isvisible()&&!o.hasClass("hi-res-img")&&o.getBoundingClientRect().top-f<0){n.loadImage(o)}};this.loadImage=function(o){if(o.hasClass(d.lth)){n.handleLTH(o)}else{if(!o.hasClass("hi-res-img")){if(o.hasAttribute("data-"+(d.currentvp))||o.hasAttribute("data-src")){o.setAttribute("src",(o.getData("base")+o.getData(d.currentvp))||o.getData("src"));o.setData("loaded",true)}}}};this.handleLTH=function(p){var q,r;if(k){q=p.getData("base")+p.getData(c)}else{q=(p.getData("base")+p.getData(d.currentvp))}if(l){var o=document.createElement("img");o.addClass("hi-res-img");p.setAttribute("src",q);if(k){r=p.getData("base")+p.getData(d.currentvp)}else{r=p.getData("base")+p.getData(d.currentvp+"-hi")}bindEvent(o,"load",function(){p.addClass("hide");o.addClass("show")});p.parentNode.insertBefore(o,p.nextSibling);o.setAttribute("src",r);if(!p.hasClass("lazyload")){p.setAttribute("src",r)}p.setData("loaded",true)}else{p.setAttribute("src",q)}}};var b=new function(){var n=this;this.checkIframes=function(){var o=document.querySelectorAll(d.iframeSelector);o.forEach(function(p){n.checkIframeLoad(p)})};this.checkIframeLoad=function(o){if(o.getData("loaded")!=="true"&&o.isvisible()&&o.getBoundingClientRect().top-f<0){o.setAttribute("src",o.getData("src"));o.setData("loaded",true)}}};var i=new function(){var n=this;this.checkBgImages=function(){var o=document.querySelectorAll(d.bgselector);o.forEach(function(p){n.bootstrapbgImages(p)})};this.bootstrapbgImages=function(o){if(o.hasClass(d.lazyLoadClass)){n.checkBgLoad(o)}else{if(o.getData("loaded")!=="true"){n.loadBgImage(o)}}};this.loadBgImage=function(o){if(o.getData("src")){o.style.backgroundImage="url("+o.getData("src")+")"}else{o.style.backgroundImage="url("+o.getData("base")+o.getData(d.currentvp)+")"}o.setData("loaded",true)};this.checkBgLoad=function(o){if(o.getData("loaded")!=="true"&&o.isvisible()&&o.getBoundingClientRect().top-f<0){n.loadBgImage(o)}}};var m=function(o){for(var n in o){d[n]=o[n]}if(!e){h();e=true}g();a.checkImages();b.checkIframes();i.checkBgImages()};var g=function(){var n=window.innerWidth;f=window.innerHeight+d.offset;if(n>=d.vp.xlarge){d.currentvp="xlarge"}else{if(n>=d.vp.large){d.currentvp="large"}else{if(n>=d.vp.medium){d.currentvp="medium"}else{d.currentvp="small";if(d.landscape&&window.innerHeight<window.innerWidth){d.currentvp+="-landscape"}}}}if(c){j=c}c=d.currentvp;if(!j){j=c}if(window.devicePixelRatio>=2){k=true;if(d.retina){d.currentvp+="-retina"}}};var h=function(){bindEvent(window,"scroll",function(){var n=document.querySelectorAll(d.selector);n.forEach(function(o){a.checkload(o)});n=document.querySelectorAll(d.bgselector);n.forEach(function(o){i.checkBgLoad(o)});n=document.querySelectorAll(d.iframeSelector);n.forEach(function(o){b.checkIframeLoad(o)})});bindEvent(window,"resize",function(){g();if(j!==c){document.querySelectorAll(d.selector+":not([data-src])").forEach(function(n){if(n.hasAttribute("data-"+(d.currentvp))){n.setAttribute("src",d.defaultImage);n.setData("loaded",false)}});document.querySelectorAll(d.bgselector+":not([data-src])").forEach(function(n){n.style.backgroundImage="";n.setData("loaded",false)});document.querySelectorAll(".hi-res-img").forEach(function(n){n.parentNode.removeChild(n)});m()}});bindEvent(window,"load",function(){l=true;document.querySelectorAll(d.selector+".lth").forEach(function(n){a.checkload(n)})})};return{reinit:a.checkImages,init:m,reinitIframe:b.checkIframes,reinitBgImages:i.checkBgImages,checkImageload:a.checkload,checkBgLoad:i.checkBgLoad}})();
